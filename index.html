<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroPage</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="reset.css">
</head>

<body>
    <main class="main-section">
        <!-- 팝업창 배경 -->
    <div id="popupBackground" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;"></div>

    <!-- 팝업창 구조 -->
    <div id="popup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; padding: 20px; background: white; border: 1px solid black; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); z-index: 1000;">
        <h2>안녕하세요</h2>
        <p>안녕 나는 gpt야</p>
        <button id="closePopup" style="margin-top: 10px; padding: 5px 10px; background: red; color: white; border: none; cursor: pointer;">닫기</button>
    </div>
        <div class="floor-3 section">
            <div class="floor3 ">
                <div class="img-flex-3">
                    <div class="up-down">
                        <div class="down2" style="background: blue; width: 30px; height: 30px; cursor: pointer;"></div>
                    </div>
                    <div class="L-click">
                        <div class="L-light">
                            <img src="/3floor/L-light.png">
                            <div class="lightHolder3 setOne">
                                <div class="wallSpot3"></div>
                                <div class="mainLight3"></div>
                            </div>
                        </div>
                    </div>
                    <div class="R-click">
                        <div class="R-light">
                            <img src="/3floor/R-light.png">
                            <div class="lightHolder3 setOne">
                                <div class="wallSpot3"></div>
                                <div class="mainLight3"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="floor2-3 section">
            <div class="img"></div>
        </div>
        <div class="floor-2 section">
            <div class="floor2">
                <div class="img-flex-2">
                    <div class="up-down">
                        <div class="up2" style="background: red; width: 30px; height: 30px; cursor: pointer;"></div>
                        <div class="down1" style="background: blue; width: 30px; height: 30px; cursor: pointer;"></div>
                    </div>
                    <div class="L-up">
                        <div class="L-up1">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/L-up-1/first.png" alt="">
                        </div>
                        <div class="L-up2">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/L-up-2/위에칸2.png" alt="">
                        </div>
                    </div>
                    <div class="L-down">
                        <div class="L-down1">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/L-under-1/아래칸1.png" alt="">
                        </div>
                        <div class="L-down2">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/L-under-2/아래칸2.png" alt="">
                        </div>
                        <div class="L-down3">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/L-under-3/doson.png" alt="">
                        </div>
                    </div>
                    <div class="R-img">
                        <div class="R-img1">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/R-1/R-1.png" alt="">
                        </div>
                        <div class="R-img2">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/R-2/R-2.png" alt="">
                        </div>
                        <div class="R-img3">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/R-3/R-3.png" alt="">
                        </div>
                        <div class="R-img4">
                            <div class="lightHolder setOne">
                                <div class="wallSpot"></div>
                                <div class="mainLight"></div>
                            </div>
                            <img src="/2floor/R-4/R-4.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="floor1-2 section">
            <div class="img"></div>
        </div>
        <div class="floor-1 section">
            <div class="floor1">
                <div class="img-flex-1">
                    <div class="up-down">
                        <div class="up1" style="background: red; width: 30px; height: 30px; cursor: pointer;"></div>
                    </div>
                    <div class="L-box">
                        <img src="/1floor/1floor-L-box.png" alt="">
                    </div>
                    <img class="L-img1" src="/1floor/1floor-L-img.png" alt="">
                    <img class="shadow" src="/1floor/shadow.png" alt="">
                    <div class="R-box">
                        <img src="/1floor/1floor-R-box.png" alt="">
                    </div>
                    <div class="R-img-hover">
                        <img src="/1floor/1floor-R-img.png" alt="">
                        <div class="fire"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <script>
document.addEventListener('DOMContentLoaded', () => {
    const lImg = document.querySelector('.L-img1');
    const shadow = document.querySelector('.shadow');
    const $body = document.querySelector('body');
    const upButton1 = document.querySelector('.up1');   
    const upButton2 = document.querySelector('.up2');   
    const downButton1 = document.querySelector('.down1');
    const downButton2 = document.querySelector('.down2');
    const floor1 = document.querySelector('.floor-1');
    const floor2 = document.querySelector('.floor-2');
    const floor3 = document.querySelector('.floor-3');

    // 초기 스크롤 설정
    floor1.scrollIntoView({ behavior: 'smooth' });

    // L-img hover 이벤트
    lImg.addEventListener('mouseenter', () => {
        lImg.style.transform = 'translateY(-20px)';
        lImg.style.transition = 'transform 0.3s ease';
        shadow.style.width = '80px';
    });

    lImg.addEventListener('mouseleave', () => {
        lImg.style.transform = 'translateY(0)';
        shadow.style.width = '115px';
    });

    // 스크롤 방지 설정
    let scrollBlocked = true;

    function preventScroll(e) {
        if (scrollBlocked) {
            e.preventDefault();
        }
    }

    $body.addEventListener('wheel', preventScroll, { passive: false });

    $body.addEventListener('click', () => {
        scrollBlocked = false;
    });

    //이동
    upButton1.addEventListener('click', () => {
        floor2.scrollIntoView({ behavior: 'smooth' });
    });
    upButton2.addEventListener('click', () => {
        floor3.scrollIntoView({ behavior: 'smooth' });
    });
    downButton1.addEventListener('click',()=>{
        floor1.scrollIntoView({ behavior: 'smooth' });
    })
    downButton2.addEventListener('click',()=>{
        floor2.scrollIntoView({ behavior: 'smooth' });
    })
});

document.addEventListener('DOMContentLoaded', function () {
        // 팝업 및 배경 요소 가져오기
        const popup = document.getElementById('popup');
        const popupBackground = document.getElementById('popupBackground');
        const closePopup = document.getElementById('closePopup');
        const lImg1 = document.querySelector('.L-img1');

        // L-img1 클릭 시 팝업 및 배경 표시
        lImg1.addEventListener('click', function () {
            popup.style.display = 'block';
            popupBackground.style.display = 'block';
        });

        // 닫기 버튼 클릭 시 팝업 및 배경 숨기기
        closePopup.addEventListener('click', function () {
            popup.style.display = 'none';
            popupBackground.style.display = 'none';
        });

        // 배경 클릭 시 팝업 및 배경 숨기기
        popupBackground.addEventListener('click', function () {
            popup.style.display = 'none';
            popupBackground.style.display = 'none';
        });
    }); 

    </script>
</body>

</html>